<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Bet Generator Premium</title>
<style>
body{background:#1c1c1c;color:#fff;font-family:Arial}
input,select,button,textarea{padding:6px;margin:4px;border-radius:4px;border:none}
button{cursor:pointer;background:#ff9800;color:#000;font-weight:bold}
textarea{width:100%;height:260px}
hr{border:1px solid #444}
</style>
</head>
<body>

<h3>BET GENERATOR</h3>

Periode :
<input id="periode" value="352">

<br><br>

Preset Pasaran :
<select id="presetOn">
  <option value="on">ON</option>
  <option value="off">OFF</option>
</select>

<input id="customPasaran" placeholder="Custom Pasaran (jika OFF)">

<br><br>

Filter Nomor :
<select id="filterTwin">
  <option value="non">Non Twin</option>
  <option value="all">Semua</option>
</select>

<br><br>

Max Total Bayar :
<input id="maxTotal" value="30000" oninput="formatMaxTotal()">

<br><br>

<button onclick="generate()">GENERATE</button>
<button onclick="copyHTML()">COPY</button>

<hr>

<textarea id="output"></textarea>

<script>
const presets = ["SYDNEY","GUANGDONG","SINGAPORE","JEJULOTTO","HONGKONG","MONACO","TURIN"];
let presetIndex = 0;

function getPasaran(){
  if(presetOn.value==="off"){
    return customPasaran.value || "HONGKONG";
  }
  let p = presets[presetIndex];
  presetIndex = (presetIndex + 1) % presets.length;
  return p;
}

function rand(min,max){return Math.floor(Math.random()*(max-min+1))+min}

function isTwin(n){return new Set(n.split("")).size===1}

function genNums(len,count){
  let s=new Set();
  while(s.size<count){
    let n="";
    for(let i=0;i<len;i++) n+=rand(0,9);
    if(filterTwin.value==="non" && isTwin(n)) continue;
    s.add(n);
  }
  return [...s];
}

function autoRow(label,len){
  let lines = rand(3,12);
  let nominal = rand(1,30)*100;
  let nums = genNums(len,lines);
  let bayar = nominal * lines;

  let diskon="0.00%";
  if(label==="4D") diskon="66.50%";
  if(label==="3D") diskon="59.50%";
  if(label==="2D") diskon="29.50%";

  return {
    total:bayar,
    html:`
<tr>
<td align="center">${label}</td>
<td>${nums.join(" , ")} ,</td>
<td align="center">@${nominal.toLocaleString()}</td>
<td align="center">${diskon}</td>
<td align="center">${nominal.toLocaleString()} X ${lines} = ${bayar.toLocaleString()}</td>
</tr>`
  }
}

function formatMaxTotal(){
  let el=maxTotal;
  let v=parseInt(el.value)||0;
  if(v<1000){el.value=v*1000}
  else{el.value=Math.round(v/5000)*5000}
}

function generate(){
  let pas = getPasaran();
  let per = periode.value;
  let max = +maxTotal.value;
  let r4,r3,r2,total;

  do{
    r4=autoRow("4D",4);
    r3=autoRow("3D",3);
    r2=autoRow("2D",2);
    total=r4.total+r3.total+r2.total;
  }while(total>max);

  output.value=`
<div class="panel-">
<h4>Bet Sukses!! <font color="orange">Periode ${per} - ${pas}</font></h4>
<table class="history" border="1" cellpadding="6">
<tr><th>No</th><th>Tebakan</th><th>Taruhan</th><th>Diskon</th><th>Bayar</th></tr>
${r4.html}${r3.html}${r2.html}
<tr><td colspan="4" align="center">Total Bayar Pemain :</td>
<td>${total.toLocaleString()}</td></tr>
</table>
</div>`.trim();
}

function copyHTML(){
  navigator.clipboard.writeText(output.value);
}
</script>

</body>
</html>
